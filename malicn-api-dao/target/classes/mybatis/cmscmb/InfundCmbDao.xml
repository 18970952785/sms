<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.malicn.server.dao.cmscmb.InfundCmbDao" >
  <resultMap id="InfundCmbMap" type="com.malicn.server.domain.cmscmb.InfundCmb" >
    <id column="flow_id" property="flowId" jdbcType="BIGINT" />
    <result column="transaction_type" property="transactionType" jdbcType="VARCHAR" />
    <result column="reqnbr" property="reqnbr" jdbcType="VARCHAR" />
    <result column="busnam" property="busnam" jdbcType="VARCHAR" />
    <result column="nusage" property="nusage" jdbcType="VARCHAR" />
    <result column="yurref" property="yurref" jdbcType="VARCHAR" />
    <result column="busnar" property="busnar" jdbcType="VARCHAR" />
    <result column="crpybbk" property="crpybbk" jdbcType="VARCHAR" />
    <result column="rpybbn" property="rpybbn" jdbcType="VARCHAR" />
    <result column="rpybnk" property="rpybnk" jdbcType="VARCHAR" />
    <result column="rpyadr" property="rpyadr" jdbcType="VARCHAR" />
    <result column="chknbr" property="chknbr" jdbcType="VARCHAR" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
  </resultMap>

  <sql id="AllColumn">
    flow_id,transaction_type,
    reqnbr,busnam,nusage,yurref,busnar,crpybbk,rpybbn,
    rpybnk,rpyadr,chknbr,create_time,update_time
  </sql>
    <sql id="tableName">cms_infund_cmb</sql>
    <!-- 插入银行交易记录 -->
    <insert id ="insert" parameterType="com.malicn.server.domain.cmscmb.InfundCmb">
        insert into <include refid="tableName"></include>
        (flow_id,transaction_type,
         reqnbr,busnam,nusage,yurref,busnar,crpybbk,rpybbn,
         rpybnk,rpyadr,chknbr,create_time)
        values
            (
            #{flowId},#{transactionType},
            #{reqnbr},#{busnam},#{nusage},#{yurref},
            #{busnar},#{crpybbk},
            #{rpybbn},#{rpybnk},#{rpyadr},#{chknbr},now()
            )
    </insert >

    <insert id ="saveAll" parameterType="java.util.List">
        insert into <include refid="tableName"></include>
        (flow_id,transaction_type,
        reqnbr,busnam,nusage,yurref,busnar,crpybbk,rpybbn,
        rpybnk,rpyadr,chknbr,create_time)
        values
        <foreach collection="list" item="item" index="index" separator=",">
            (
            #{flowId},#{transactionType},
            #{reqnbr},#{busnam},#{nusage},#{yurref},
            #{busnar},#{crpybbk},
            #{rpybbn},#{rpybnk},#{rpyadr},#{chknbr},now()
            )
        </foreach>
    </insert >

    <delete id="deletedByflowId">
        delete from cms_infund_cmb
        where flow_id = #{flowId}
    </delete>


</mapper>